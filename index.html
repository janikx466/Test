<!DOCTYPE html>
<html>
<head>
<title>External Student Form</title>
<style>
body{font-family:Arial;max-width:400px;margin:50px auto}
input,button{width:100%;padding:10px;margin:8px 0}
button{background:green;color:white;border:none}
</style>
</head>
<body>

<h2>External Website</h2>

<input id="key" placeholder="API Key">
<input id="name" placeholder="Name">
<input id="age" type="number" placeholder="Age">
<input id="email" placeholder="Email">
<button onclick="send()">Next</button>

<p id="msg"></p>

<script>
async function send(){
  const res = await fetch(
    "https://tahirvjakis-student-fastapi.hf.space/external/add-user",
    {
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "X-API-KEY":key.value
      },
      body:JSON.stringify({
        name:name.value,
        age:Number(age.value),
        email:email.value
      })
    }
  );

  const txt = await res.text();
  msg.innerText = res.ok ? "✅ Success" : "❌ " + txt;
}
</script>

</body>
</html>
